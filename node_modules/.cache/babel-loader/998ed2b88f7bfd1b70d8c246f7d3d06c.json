{"ast":null,"code":"function setToken(token) {\n  console.log(\"i ran set Token\" + token);\n  localStorage.setItem(\"token\", token);\n}\n\nfunction getToken() {\n  let token = localStorage.getItem(\"token\");\n\n  if (token) {\n    const payload = JSON.parse(atob(token.split(\".\")[1]));\n\n    if (payload.exp < Date.now() / 1000) {\n      localStorage.removeItem(\"token\");\n      token = null;\n    }\n  }\n\n  return token;\n}\n\nfunction getUserFromToken() {\n  const token = getToken();\n  return token ? JSON.parse(atob(token.split(\".\")[1])).user : null;\n}\n\nfunction removeToken() {\n  localStorage.removeItem(\"token\");\n}\n\nexport default {\n  setToken,\n  getToken,\n  getUserFromToken,\n  removeToken\n};","map":{"version":3,"sources":["C:/Users/Kareem/wordify3/wordify/src/services/tokenService.js"],"names":["setToken","token","console","log","localStorage","setItem","getToken","getItem","payload","JSON","parse","atob","split","exp","Date","now","removeItem","getUserFromToken","user","removeToken"],"mappings":"AAAA,SAASA,QAAT,CAAkBC,KAAlB,EAAyB;AACvBC,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAoBF,KAAhC;AACAG,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,KAA9B;AACD;;AAED,SAASK,QAAT,GAAoB;AAClB,MAAIL,KAAK,GAAGG,YAAY,CAACG,OAAb,CAAqB,OAArB,CAAZ;;AACA,MAAIN,KAAJ,EAAW;AACT,UAAMO,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACV,KAAK,CAACW,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,CAAhB;;AACA,QAAIJ,OAAO,CAACK,GAAR,GAAcC,IAAI,CAACC,GAAL,KAAa,IAA/B,EAAqC;AACnCX,MAAAA,YAAY,CAACY,UAAb,CAAwB,OAAxB;AACAf,MAAAA,KAAK,GAAG,IAAR;AACD;AACF;;AACD,SAAOA,KAAP;AACD;;AAED,SAASgB,gBAAT,GAA4B;AAC1B,QAAMhB,KAAK,GAAGK,QAAQ,EAAtB;AACA,SAAOL,KAAK,GAAGQ,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACV,KAAK,CAACW,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,EAAsCM,IAAzC,GAAgD,IAA5D;AACD;;AAED,SAASC,WAAT,GAAuB;AACrBf,EAAAA,YAAY,CAACY,UAAb,CAAwB,OAAxB;AACD;;AAED,eAAe;AACbhB,EAAAA,QADa;AAEbM,EAAAA,QAFa;AAGbW,EAAAA,gBAHa;AAIbE,EAAAA;AAJa,CAAf","sourcesContent":["function setToken(token) {\r\n  console.log(\"i ran set Token\" + token);\r\n  localStorage.setItem(\"token\", token);\r\n}\r\n\r\nfunction getToken() {\r\n  let token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    const payload = JSON.parse(atob(token.split(\".\")[1]));\r\n    if (payload.exp < Date.now() / 1000) {\r\n      localStorage.removeItem(\"token\");\r\n      token = null;\r\n    }\r\n  }\r\n  return token;\r\n}\r\n\r\nfunction getUserFromToken() {\r\n  const token = getToken();\r\n  return token ? JSON.parse(atob(token.split(\".\")[1])).user : null;\r\n}\r\n\r\nfunction removeToken() {\r\n  localStorage.removeItem(\"token\");\r\n}\r\n\r\nexport default {\r\n  setToken,\r\n  getToken,\r\n  getUserFromToken,\r\n  removeToken,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}