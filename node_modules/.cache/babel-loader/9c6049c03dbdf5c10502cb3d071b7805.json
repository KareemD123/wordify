{"ast":null,"code":"function setToken(token){localStorage.setItem(\"token\",token);}function getToken(){var token=localStorage.getItem(\"token\");if(token){var payload=JSON.parse(atob(token.split(\".\")[1]));if(payload.exp<Date.now()/1000){localStorage.removeItem(\"token\");token=null;}}return token;}function getUserFromToken(){var token=getToken();return token?JSON.parse(atob(token.split(\".\")[1])).user:null;}function removeToken(){localStorage.removeItem(\"token\");}export default{setToken:setToken,getToken:getToken,getUserFromToken:getUserFromToken,removeToken:removeToken};","map":{"version":3,"sources":["C:/Users/Kareem/wordify3/wordify/src/services/tokenService.js"],"names":["setToken","token","localStorage","setItem","getToken","getItem","payload","JSON","parse","atob","split","exp","Date","now","removeItem","getUserFromToken","user","removeToken"],"mappings":"AAAA,QAASA,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CACvBC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,KAA9B,EACD,CAED,QAASG,CAAAA,QAAT,EAAoB,CAClB,GAAIH,CAAAA,KAAK,CAAGC,YAAY,CAACG,OAAb,CAAqB,OAArB,CAAZ,CACA,GAAIJ,KAAJ,CAAW,CACT,GAAMK,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACR,KAAK,CAACS,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,CAAhB,CACA,GAAIJ,OAAO,CAACK,GAAR,CAAcC,IAAI,CAACC,GAAL,GAAa,IAA/B,CAAqC,CACnCX,YAAY,CAACY,UAAb,CAAwB,OAAxB,EACAb,KAAK,CAAG,IAAR,CACD,CACF,CACD,MAAOA,CAAAA,KAAP,CACD,CAED,QAASc,CAAAA,gBAAT,EAA4B,CAC1B,GAAMd,CAAAA,KAAK,CAAGG,QAAQ,EAAtB,CACA,MAAOH,CAAAA,KAAK,CAAGM,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACR,KAAK,CAACS,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,EAAsCM,IAAzC,CAAgD,IAA5D,CACD,CAED,QAASC,CAAAA,WAAT,EAAuB,CACrBf,YAAY,CAACY,UAAb,CAAwB,OAAxB,EACD,CAED,cAAe,CACbd,QAAQ,CAARA,QADa,CAEbI,QAAQ,CAARA,QAFa,CAGbW,gBAAgB,CAAhBA,gBAHa,CAIbE,WAAW,CAAXA,WAJa,CAAf","sourcesContent":["function setToken(token) {\r\n  localStorage.setItem(\"token\", token);\r\n}\r\n\r\nfunction getToken() {\r\n  let token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    const payload = JSON.parse(atob(token.split(\".\")[1]));\r\n    if (payload.exp < Date.now() / 1000) {\r\n      localStorage.removeItem(\"token\");\r\n      token = null;\r\n    }\r\n  }\r\n  return token;\r\n}\r\n\r\nfunction getUserFromToken() {\r\n  const token = getToken();\r\n  return token ? JSON.parse(atob(token.split(\".\")[1])).user : null;\r\n}\r\n\r\nfunction removeToken() {\r\n  localStorage.removeItem(\"token\");\r\n}\r\n\r\nexport default {\r\n  setToken,\r\n  getToken,\r\n  getUserFromToken,\r\n  removeToken,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}